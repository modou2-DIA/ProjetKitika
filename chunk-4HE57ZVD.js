import{a as j}from"./chunk-BALR4JCS.js";import"./chunk-3NOMAPXL.js";import{C as d,Ec as w,Hb as m,Jb as _,Kb as S,La as i,Nb as v,Ob as b,Oc as x,P as h,Pb as y,Qa as f,Rc as I,Uc as E,Xa as g,Zc as F,ab as c,hb as l,i as u,kd as N,pb as a,qb as o,wb as C,wc as M,xb as p,xc as T}from"./chunk-OKTVRY6G.js";function W(t,n){if(t&1&&(a(0,"span"),m(1),o()),t&2){let e=p().$implicit;i(),_("- ",e.societe,"")}}function P(t,n){if(t&1&&(a(0,"li",5),m(1),c(2,W,2,1,"span",6),o()),t&2){let e=n.$implicit;i(),S(" ",e.nom," ",e.prenom," "),i(),l("ngIf",e.societe)}}function A(t,n){if(t&1&&(a(0,"ul",3),c(1,P,3,3,"li",4),o()),t&2){let e=p();i(),l("ngForOf",e.results)}}var D=class t{constructor(n){this.clientService=n;this.searchSubject.pipe(d(300),h(e=>this.clientService.searchClients(e))).subscribe(e=>{this.results=e})}searchTerm="";results=[];searchSubject=new u;onSearchChange(n){this.searchSubject.next(n)}static \u0275fac=function(e){return new(e||t)(f(j))};static \u0275cmp=g({type:t,selectors:[["app-client-search"]],decls:3,vars:2,consts:[[1,"search-container"],["type","text","placeholder","Rechercher un client par nom, pr\xE9nom ou entit\xE9",1,"border","p-2","rounded","w-full",3,"ngModelChange","input","ngModel"],["class","bg-white border rounded mt-2 shadow",4,"ngIf"],[1,"bg-white","border","rounded","mt-2","shadow"],["class","p-2 hover:bg-gray-100 cursor-pointer",4,"ngFor","ngForOf"],[1,"p-2","hover:bg-gray-100","cursor-pointer"],[4,"ngIf"]],template:function(e,r){e&1&&(a(0,"div",0)(1,"input",1),y("ngModelChange",function(s){return b(r.searchTerm,s)||(r.searchTerm=s),s}),C("input",function(){return r.onSearchChange(r.searchTerm)}),o(),c(2,A,2,1,"ul",2),o()),e&2&&(i(),v("ngModel",r.searchTerm),i(),l("ngIf",r.results.length>0))},dependencies:[w,M,T,N,I,E,F,x],encapsulation:2})};export{D as ClientSearchComponent};
