import{a as _e}from"./chunk-TA55HLTY.js";import{a as ye}from"./chunk-AVPFR676.js";import{K as k,L as _t,M as xt,N as ge,T as xe,f as fe,g as ve,i as ot,j as At,k as nt,l as gt,m as Tt,n as he,p as yt}from"./chunk-G25BR6RR.js";import{c as te}from"./chunk-F6CU2MH7.js";import{a as T}from"./chunk-3NOMAPXL.js";import{b as D,d as Qt}from"./chunk-FABKFREX.js";import{$ as c,$c as ae,A as z,Bb as m,Cb as s,Db as I,E as Yt,Ea as Y,G as qt,Gb as bt,Ib as S,Jb as B,Jc as Jt,Kb as X,Kc as vt,Lb as A,M as Wt,Q as Zt,Qc as ht,T as M,Ub as d,V as y,Va as q,Vb as J,W as H,Wb as ft,Xa as p,Xb as Rt,Y as P,Yc as ee,Zc as b,_ as v,_a as Xt,a as C,ab as x,ad as oe,d as $t,fd as ne,hb as f,hd as ie,ia as mt,ib as W,id as re,ja as dt,jb as ut,jd as se,kb as pt,kd as ce,ld as me,m as U,ma as kt,mb as j,md as de,n as O,nd as le,oa as lt,pa as Kt,q as G,qd as ue,rd as pe,sb as Z,sc as L,sd as be,ta as $,tb as _,ua as at,vb as F,w as Vt,wa as V,wb as K,zc as Q}from"./chunk-SG55GJBE.js";var Ie=class n{constructor(a,t){this.data=a;this.dialogRef=t}fermer(){this.dialogRef.close()}static \u0275fac=function(t){return new(t||n)(x(xt),x(_t))};static \u0275cmp=f({type:n,selectors:[["app-dialog-feedback"]],decls:7,vars:2,consts:[[1,"p-4","text-center"],[1,"text-xl","font-semibold","mb-2"],[1,"text-gray-600","mb-4"],["mat-button","","color","primary",3,"click"]],template:function(t,e){t&1&&(m(0,"div",0)(1,"h2",1),d(2),s(),m(3,"p",2),d(4),s(),m(5,"button",3),S("click",function(){return e.fermer()}),d(6,"Fermer"),s()()),t&2&&(p(2),J(e.data.titre),p(2),J(e.data.message))},encapsulation:2})};var Ee=class n{constructor(a){this.http=a}apiUrl=T+"fiches-client";getAll(){return this.http.get(this.apiUrl)}create(a){return this.http.post(this.apiUrl,a)}creerFicheDepuisReservation(a){return this.http.post(`${this.apiUrl}/checkin/${a}`,{})}checkoutDepuisReservation(a){return this.http.put(`${this.apiUrl}/checkout/${a}`,{})}delete(a){return this.http.delete(`${this.apiUrl}/${a}`)}update(a){return this.http.put(`${this.apiUrl}/${a.id}`,a)}getById(a){return this.http.get(`${this.apiUrl}/${a}`)}getFicheByReservationId(a){return this.http.get(`${this.apiUrl}/reservation/${a}`)}getFichesByClientId(a){return this.http.get(`${this.apiUrl}/client/${a}`)}creerFicheDepuisReservationGroupee(a){return this.http.post(`${this.apiUrl}/reservation-groupee/${a}`,{})}static \u0275fac=function(t){return new(t||n)(v(D))};static \u0275prov=y({token:n,factory:n.\u0275fac,providedIn:"root"})};var wt=class n{constructor(a){this.http=a}apiUrl=T+"reservations-groupees";creerReservationGroupee(a){return this.http.post(this.apiUrl,a)}getAll(){return this.http.get(this.apiUrl)}getById(a){return this.http.get(`${this.apiUrl}/${a}`)}addReservationToGroup(a,t){let e=`${this.apiUrl}/${a}/reservations/${t}`;return this.http.put(e,{})}addReservationsBulk(a,t){let e=`${this.apiUrl}/${a}/reservations/bulk`;return this.http.post(e,t)}static \u0275fac=function(t){return new(t||n)(v(D))};static \u0275prov=y({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ct;function Ke(){if(Ct===void 0&&(Ct=null,typeof window<"u")){let n=window;n.trustedTypes!==void 0&&(Ct=n.trustedTypes.createPolicy("angular#components",{createHTML:a=>a}))}return Ct}function it(n){return Ke()?.createHTML(n)||n}function Se(n){return Error(`Unable to find icon with the name "${n}"`)}function Xe(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function De(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function Me(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}var R=class{url;svgText;options;svgElement;constructor(a,t,e){this.url=a,this.svgText=t,this.options=e}},ke=(()=>{class n{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(t,e,o,i){this._httpClient=t,this._sanitizer=e,this._errorHandler=i,this._document=o}addSvgIcon(t,e,o){return this.addSvgIconInNamespace("",t,e,o)}addSvgIconLiteral(t,e,o){return this.addSvgIconLiteralInNamespace("",t,e,o)}addSvgIconInNamespace(t,e,o,i){return this._addSvgIconConfig(t,e,new R(o,null,i))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,e,o,i){let r=this._sanitizer.sanitize(q.HTML,o);if(!r)throw Me(o);let l=it(r);return this._addSvgIconConfig(t,e,new R("",l,i))}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e)}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}addSvgIconSetInNamespace(t,e,o){return this._addSvgIconSetConfig(t,new R(e,null,o))}addSvgIconSetLiteralInNamespace(t,e,o){let i=this._sanitizer.sanitize(q.HTML,e);if(!i)throw Me(e);let r=it(i);return this._addSvgIconSetConfig(t,new R("",r,o))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){let e=this._sanitizer.sanitize(q.RESOURCE_URL,t);if(!e)throw De(t);let o=this._cachedIconsByUrl.get(e);return o?U(Et(o)):this._loadSvgIconFromConfig(new R(t,null)).pipe(M(i=>this._cachedIconsByUrl.set(e,i)),G(i=>Et(i)))}getNamedSvgIcon(t,e=""){let o=Fe(e,t),i=this._svgIconConfigs.get(o);if(i)return this._getSvgFromConfig(i);if(i=this._getIconConfigFromResolvers(e,t),i)return this._svgIconConfigs.set(o,i),this._getSvgFromConfig(i);let r=this._iconSetConfigs.get(e);return r?this._getSvgFromIconSetConfigs(t,r):O(Se(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?U(Et(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(G(e=>Et(e)))}_getSvgFromIconSetConfigs(t,e){let o=this._extractIconWithNameFromAnySet(t,e);if(o)return U(o);let i=e.filter(r=>!r.svgText).map(r=>this._loadSvgIconSetFromConfig(r).pipe(z(l=>{let g=`Loading icon set URL: ${this._sanitizer.sanitize(q.RESOURCE_URL,r.url)} failed: ${l.message}`;return this._errorHandler.handleError(new Error(g)),U(null)})));return Vt(i).pipe(G(()=>{let r=this._extractIconWithNameFromAnySet(t,e);if(!r)throw Se(t);return r}))}_extractIconWithNameFromAnySet(t,e){for(let o=e.length-1;o>=0;o--){let i=e[o];if(i.svgText&&i.svgText.toString().indexOf(t)>-1){let r=this._svgElementFromConfig(i),l=this._extractSvgIconFromSet(r,t,i.options);if(l)return l}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(M(e=>t.svgText=e),G(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?U(null):this._fetchIcon(t).pipe(M(e=>t.svgText=e))}_extractSvgIconFromSet(t,e,o){let i=t.querySelector(`[id="${e}"]`);if(!i)return null;let r=i.cloneNode(!0);if(r.removeAttribute("id"),r.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(r,o);if(r.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(r),o);let l=this._svgElementFromString(it("<svg></svg>"));return l.appendChild(r),this._setSvgAttributes(l,o)}_svgElementFromString(t){let e=this._document.createElement("DIV");e.innerHTML=t;let o=e.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(t){let e=this._svgElementFromString(it("<svg></svg>")),o=t.attributes;for(let i=0;i<o.length;i++){let{name:r,value:l}=o[i];r!=="id"&&e.setAttribute(r,l)}for(let i=0;i<t.childNodes.length;i++)t.childNodes[i].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[i].cloneNode(!0));return e}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}_fetchIcon(t){let{url:e,options:o}=t,i=o?.withCredentials??!1;if(!this._httpClient)throw Xe();if(e==null)throw Error(`Cannot fetch icon from URL "${e}".`);let r=this._sanitizer.sanitize(q.RESOURCE_URL,e);if(!r)throw De(e);let l=this._inProgressUrlFetches.get(r);if(l)return l;let w=this._httpClient.get(r,{responseType:"text",withCredentials:i}).pipe(G(g=>it(g)),qt(()=>this._inProgressUrlFetches.delete(r)),Wt());return this._inProgressUrlFetches.set(r,w),w}_addSvgIconConfig(t,e,o){return this._svgIconConfigs.set(Fe(t,e),o),this}_addSvgIconSetConfig(t,e){let o=this._iconSetConfigs.get(t);return o?o.push(e):this._iconSetConfigs.set(t,[e]),this}_svgElementFromConfig(t){if(!t.svgElement){let e=this._svgElementFromString(t.svgText);this._setSvgAttributes(e,t.options),t.svgElement=e}return t.svgElement}_getIconConfigFromResolvers(t,e){for(let o=0;o<this._resolvers.length;o++){let i=this._resolvers[o](e,t);if(i)return Je(i)?new R(i.url,null,i.options):new R(i,null)}}static \u0275fac=function(e){return new(e||n)(v(D,8),v(te),v(Q,8),v(at))};static \u0275prov=y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Et(n){return n.cloneNode(!0)}function Fe(n,a){return n+":"+a}function Je(n){return!!(n.url&&n.options)}var Qe=["*"],ta=new P("MAT_ICON_DEFAULT_OPTIONS"),ea=new P("mat-icon-location",{providedIn:"root",factory:aa});function aa(){let n=c(Q),a=n?n.location:null;return{getPathname:()=>a?a.pathname+a.search:""}}var Re=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],oa=Re.map(n=>`[${n}]`).join(", "),na=/^url\(['"]?#(.*?)['"]?\)$/,Ae=(()=>{class n{_elementRef=c(V);_iconRegistry=c(ke);_location=c(ea);_errorHandler=c(at);_defaultColor;get color(){return this._color||this._defaultColor}set color(t){this._color=t}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(t){let e=this._cleanupFontValue(t);e!==this._fontSet&&(this._fontSet=e,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(t){let e=this._cleanupFontValue(t);e!==this._fontIcon&&(this._fontIcon=e,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=$t.EMPTY;constructor(){let t=c(new Kt("aria-hidden"),{optional:!0}),e=c(ta,{optional:!0});e&&(e.color&&(this.color=this._defaultColor=e.color),e.fontSet&&(this.fontSet=e.fontSet)),t||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];let e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let t=this._elementsWithExternalReferences;if(t&&t.size){let e=this._location.getPathname();e!==this._previousPath&&(this._previousPath=e,this._prependPathToReferences(e))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();let e=this._location.getPathname();this._previousPath=e,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(e),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){let t=this._elementRef.nativeElement,e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){let o=t.childNodes[e];(o.nodeType!==1||o.nodeName.toLowerCase()==="svg")&&o.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let t=this._elementRef.nativeElement,e=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(o=>o.length>0);this._previousFontSetClass.forEach(o=>t.classList.remove(o)),e.forEach(o=>t.classList.add(o)),this._previousFontSetClass=e,this.fontIcon!==this._previousFontIconClass&&!e.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return typeof t=="string"?t.trim().split(" ")[0]:t}_prependPathToReferences(t){let e=this._elementsWithExternalReferences;e&&e.forEach((o,i)=>{o.forEach(r=>{i.setAttribute(r.name,`url('${t}#${r.value}')`)})})}_cacheChildrenWithExternalReferences(t){let e=t.querySelectorAll(oa),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let i=0;i<e.length;i++)Re.forEach(r=>{let l=e[i],w=l.getAttribute(r),g=w?w.match(na):null;if(g){let u=o.get(l);u||(u=[],o.set(l,u)),u.push({name:r,value:g[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){let[e,o]=this._splitIconName(t);e&&(this._svgNamespace=e),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,e).pipe(Yt(1)).subscribe(i=>this._setSvgElement(i),i=>{let r=`Error retrieving icon ${e}:${o}! ${i.message}`;this._errorHandler.handleError(new Error(r))})}}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=f({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(e,o){e&2&&(Z("data-mat-icon-type",o._usingFontIcon()?"font":"svg")("data-mat-icon-name",o._svgName||o.fontIcon)("data-mat-icon-namespace",o._svgNamespace||o.fontSet)("fontIcon",o._usingFontIcon()?o.fontIcon:null),K(o.color?"mat-"+o.color:""),F("mat-icon-inline",o.inline)("mat-icon-no-color",o.color!=="primary"&&o.color!=="accent"&&o.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",L],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],ngContentSelectors:Qe,decls:1,vars:0,template:function(e,o){e&1&&(X(),A(0))},styles:[`mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}
`],encapsulation:2,changeDetection:0})}return n})(),Te=(()=>{class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=W({type:n});static \u0275inj=H({imports:[k,k]})}return n})();var tt,Ne=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function no(){if(tt)return tt;if(typeof document!="object"||!document)return tt=new Set(Ne),tt;let n=document.createElement("input");return tt=new Set(Ne.filter(a=>(n.setAttribute("type",a),n.type===a))),tt}var E=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(E||{}),Nt=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=E.HIDDEN;constructor(a,t,e,o=!1){this._renderer=a,this.element=t,this.config=e,this._animationForciblyDisabledThroughCss=o}fadeOut(){this._renderer.fadeOutRipple(this)}},Oe=gt({passive:!0,capture:!0}),Ot=class{_events=new Map;addHandler(a,t,e,o){let i=this._events.get(t);if(i){let r=i.get(e);r?r.add(o):i.set(e,new Set([o]))}else this._events.set(t,new Map([[e,new Set([o])]])),a.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,Oe)})}removeHandler(a,t,e){let o=this._events.get(a);if(!o)return;let i=o.get(t);i&&(i.delete(e),i.size===0&&o.delete(t),o.size===0&&(this._events.delete(a),document.removeEventListener(a,this._delegateEventHandler,Oe)))}_delegateEventHandler=a=>{let t=ot(a);t&&this._events.get(a.type)?.forEach((e,o)=>{(o===t||o.contains(t))&&e.forEach(i=>i.handleEvent(a))})}},rt={enterDuration:225,exitDuration:150},ra=800,ze=gt({passive:!0,capture:!0}),Pe=["mousedown","touchstart"],je=["mouseup","mouseleave","touchend","touchcancel"],sa=(()=>{class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=f({type:n,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(e,o){},styles:[`.mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}
`],encapsulation:2,changeDetection:0})}return n})(),st=class n{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new Ot;constructor(a,t,e,o,i){this._target=a,this._ngZone=t,this._platform=o,o.isBrowser&&(this._containerElement=Tt(e)),i&&i.get(yt).load(sa)}fadeInRipple(a,t,e={}){let o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=C(C({},rt),e.animation);e.centered&&(a=o.left+o.width/2,t=o.top+o.height/2);let r=e.radius||ca(a,t,o),l=a-o.left,w=t-o.top,g=i.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=`${l-r}px`,u.style.top=`${w-r}px`,u.style.height=`${r*2}px`,u.style.width=`${r*2}px`,e.color!=null&&(u.style.backgroundColor=e.color),u.style.transitionDuration=`${g}ms`,this._containerElement.appendChild(u);let Lt=window.getComputedStyle(u),We=Lt.transitionProperty,Ut=Lt.transitionDuration,Mt=We==="none"||Ut==="0s"||Ut==="0s, 0s"||o.width===0&&o.height===0,N=new Nt(this,u,e,Mt);u.style.transform="scale3d(1, 1, 1)",N.state=E.FADING_IN,e.persistent||(this._mostRecentTransientRipple=N);let ct=null;return!Mt&&(g||i.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let Gt=()=>{ct&&(ct.fallbackTimer=null),clearTimeout(Ht),this._finishRippleTransition(N)},Ft=()=>this._destroyRipple(N),Ht=setTimeout(Ft,g+100);u.addEventListener("transitionend",Gt),u.addEventListener("transitioncancel",Ft),ct={onTransitionEnd:Gt,onTransitionCancel:Ft,fallbackTimer:Ht}}),this._activeRipples.set(N,ct),(Mt||!g)&&this._finishRippleTransition(N),N}fadeOutRipple(a){if(a.state===E.FADING_OUT||a.state===E.HIDDEN)return;let t=a.element,e=C(C({},rt),a.config.animation);t.style.transitionDuration=`${e.exitDuration}ms`,t.style.opacity="0",a.state=E.FADING_OUT,(a._animationForciblyDisabledThroughCss||!e.exitDuration)&&this._finishRippleTransition(a)}fadeOutAll(){this._getActiveRipples().forEach(a=>a.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(a=>{a.config.persistent||a.fadeOut()})}setupTriggerEvents(a){let t=Tt(a);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,Pe.forEach(e=>{n._eventManager.addHandler(this._ngZone,e,t,this)}))}handleEvent(a){a.type==="mousedown"?this._onMousedown(a):a.type==="touchstart"?this._onTouchStart(a):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{je.forEach(t=>{this._triggerElement.addEventListener(t,this,ze)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(a){a.state===E.FADING_IN?this._startFadeOutTransition(a):a.state===E.FADING_OUT&&this._destroyRipple(a)}_startFadeOutTransition(a){let t=a===this._mostRecentTransientRipple,{persistent:e}=a.config;a.state=E.VISIBLE,!e&&(!t||!this._isPointerDown)&&a.fadeOut()}_destroyRipple(a){let t=this._activeRipples.get(a)??null;this._activeRipples.delete(a),this._activeRipples.size||(this._containerRect=null),a===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),a.state=E.HIDDEN,t!==null&&(a.element.removeEventListener("transitionend",t.onTransitionEnd),a.element.removeEventListener("transitioncancel",t.onTransitionCancel),t.fallbackTimer!==null&&clearTimeout(t.fallbackTimer)),a.element.remove()}_onMousedown(a){let t=fe(a),e=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+ra;!this._target.rippleDisabled&&!t&&!e&&(this._isPointerDown=!0,this.fadeInRipple(a.clientX,a.clientY,this._target.rippleConfig))}_onTouchStart(a){if(!this._target.rippleDisabled&&!ve(a)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let t=a.changedTouches;if(t)for(let e=0;e<t.length;e++)this.fadeInRipple(t[e].clientX,t[e].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(a=>{let t=a.state===E.VISIBLE||a.config.terminateOnPointerUp&&a.state===E.FADING_IN;!a.config.persistent&&t&&a.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let a=this._triggerElement;a&&(Pe.forEach(t=>n._eventManager.removeHandler(t,a,this)),this._pointerUpEventsRegistered&&(je.forEach(t=>a.removeEventListener(t,this,ze)),this._pointerUpEventsRegistered=!1))}};function ca(n,a,t){let e=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),o=Math.max(Math.abs(a-t.top),Math.abs(a-t.bottom));return Math.sqrt(e*e+o*o)}var zt=new P("mat-ripple-global-options"),xo=(()=>{class n{_elementRef=c(V);_animationMode=c(Y,{optional:!0});color;unbounded;centered;radius=0;animation;get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){let t=c($),e=c(nt),o=c(zt,{optional:!0}),i=c(lt);this._globalOptions=o||{},this._rippleRenderer=new st(this,t,this._elementRef,e,i)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:C(C(C({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,o){return typeof t=="number"?this._rippleRenderer.fadeInRipple(t,e,C(C({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,C(C({},this.rippleConfig),t))}static \u0275fac=function(e){return new(e||n)};static \u0275dir=ut({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,o){e&2&&F("mat-ripple-unbounded",o.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})();var ma={capture:!0},da=["focus","mousedown","mouseenter","touchstart"],Pt="mat-ripple-loader-uninitialized",jt="mat-ripple-loader-class-name",Be="mat-ripple-loader-centered",St="mat-ripple-loader-disabled",Le=(()=>{class n{_document=c(Q);_animationMode=c(Y,{optional:!0});_globalRippleOptions=c(zt,{optional:!0});_platform=c(nt);_ngZone=c($);_injector=c(lt);_eventCleanups;_hosts=new Map;constructor(){let t=c(Xt).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>da.map(e=>At(t,this._document,e,this._onInteraction,ma)))}ngOnDestroy(){let t=this._hosts.keys();for(let e of t)this.destroyRipple(e);this._eventCleanups.forEach(e=>e())}configureRipple(t,e){t.setAttribute(Pt,this._globalRippleOptions?.namespace??""),(e.className||!t.hasAttribute(jt))&&t.setAttribute(jt,e.className||""),e.centered&&t.setAttribute(Be,""),e.disabled&&t.setAttribute(St,"")}setDisabled(t,e){let o=this._hosts.get(t);o?(o.target.rippleDisabled=e,!e&&!o.hasSetUpEvents&&(o.hasSetUpEvents=!0,o.renderer.setupTriggerEvents(t))):e?t.setAttribute(St,""):t.removeAttribute(St)}_onInteraction=t=>{let e=ot(t);if(e instanceof HTMLElement){let o=e.closest(`[${Pt}="${this._globalRippleOptions?.namespace??""}"]`);o&&this._createRipple(o)}};_createRipple(t){if(!this._document||this._hosts.has(t))return;t.querySelector(".mat-ripple")?.remove();let e=this._document.createElement("span");e.classList.add("mat-ripple",t.getAttribute(jt)),t.append(e);let o=this._animationMode==="NoopAnimations",i=this._globalRippleOptions,r=o?0:i?.animation?.enterDuration??rt.enterDuration,l=o?0:i?.animation?.exitDuration??rt.exitDuration,w={rippleDisabled:o||i?.disabled||t.hasAttribute(St),rippleConfig:{centered:t.hasAttribute(Be),terminateOnPointerUp:i?.terminateOnPointerUp,animation:{enterDuration:r,exitDuration:l}}},g=new st(w,this._ngZone,e,this._platform,this._injector),u=!w.rippleDisabled;u&&g.setupTriggerEvents(t),this._hosts.set(t,{target:w,renderer:g,hasSetUpEvents:u}),t.removeAttribute(Pt)}destroyRipple(t){let e=this._hosts.get(t);e&&(e.renderer._removeTriggerEvents(),this._hosts.delete(t))}static \u0275fac=function(e){return new(e||n)};static \u0275prov=y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ue=(()=>{class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=f({type:n,selectors:[["structural-styles"]],decls:0,vars:0,template:function(e,o){},styles:[`.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}
`],encapsulation:2,changeDetection:0})}return n})();var la=["mat-icon-button",""],ua=["*"];var pa=new P("MAT_BUTTON_CONFIG");var ba=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Bt=(()=>{class n{_elementRef=c(V);_ngZone=c($);_animationMode=c(Y,{optional:!0});_focusMonitor=c(he);_rippleLoader=c(Le);_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;constructor(){c(yt).load(Ue);let t=c(pa,{optional:!0}),e=this._elementRef.nativeElement,o=e.classList;this.disabledInteractive=t?.disabledInteractive??!1,this.color=t?.color??null,this._rippleLoader?.configureRipple(e,{className:"mat-mdc-button-ripple"});for(let{attribute:i,mdcClasses:r}of ba)e.hasAttribute(i)&&o.add(...r)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",e){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,e):this._elementRef.nativeElement.focus(e)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static \u0275fac=function(e){return new(e||n)};static \u0275dir=ut({type:n,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",L],disabled:[2,"disabled","disabled",L],ariaDisabled:[2,"aria-disabled","ariaDisabled",L],disabledInteractive:[2,"disabledInteractive","disabledInteractive",L]}})}return n})();var fa=(()=>{class n extends Bt{constructor(){super(),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=f({type:n,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(e,o){e&2&&(Z("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),K(o.color?"mat-"+o.color:""),F("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[pt],attrs:la,ngContentSelectors:ua,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(e,o){e&1&&(X(),I(0,"span",0),A(1),I(2,"span",1)(3,"span",2))},styles:[`.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 40px);height:var(--mdc-icon-button-state-layer-size, 40px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 40px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size, 24px);color:var(--mdc-icon-button-icon-color, var(--mat-sys-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-icon-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface-variant) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-icon-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display, block)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return n})();var Ge=(()=>{class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=W({type:n});static \u0275inj=H({imports:[k,k]})}return n})();var va=["mat-button",""],ha=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],ga=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var He=(()=>{class n extends Bt{static \u0275fac=(()=>{let t;return function(o){return(t||(t=kt(n)))(o||n)}})();static \u0275cmp=f({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(e,o){e&2&&(Z("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),K(o.color?"mat-"+o.color:""),F("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[pt],attrs:va,ngContentSelectors:ga,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(e,o){e&1&&(X(ha),I(0,"span",0),A(1),m(2,"span",1),A(3,1),s(),A(4,2),I(5,"span",2)(6,"span",3)),e&2&&F("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:[`.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 12px);height:var(--mdc-text-button-container-height, 40px);font-family:var(--mdc-text-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display, block)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-filled-button-container-height, 40px);font-family:var(--mdc-filled-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-filled-button-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display, block)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-sys-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-filled-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-sys-level1));height:var(--mdc-protected-button-container-height, 40px);font-family:var(--mdc-protected-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-protected-button-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display, block)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-sys-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-sys-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-protected-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-outlined-button-container-height, 40px);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-sys-corner-full));border-width:var(--mdc-outlined-button-outline-width, 1px);padding:0 var(--mat-outlined-button-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display, block)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-sys-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mdc-outlined-button-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-button:focus>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus>.mat-focus-indicator::before,.mat-mdc-raised-button:focus>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return n})();var $e=(()=>{class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=W({type:n});static \u0275inj=H({imports:[k,Ge,k]})}return n})();function xa(n,a){if(n&1){let t=bt();m(0,"button",6),S("click",function(){mt(t);let o=B();return dt(o.onCancel())}),d(1),s()}if(n&2){let t=B();p(),ft(" ",t.data.cancelText||"Annuler"," ")}}var et=class n{constructor(a,t){this.dialogRef=a;this.data=t}onConfirm(){this.dialogRef.close(!0)}onCancel(){this.dialogRef.close(!1)}getIcon(){switch(this.data.type){case"success":return"check_circle";case"error":return"error";case"warning":return"warning";default:return"help"}}getIconColor(){switch(this.data.type){case"success":return"primary";case"error":return"warn";case"warning":return"accent";default:return"primary"}}getButtonColor(){switch(this.data.type){case"error":return"warn";case"success":return"primary";default:return"primary"}}static \u0275fac=function(t){return new(t||n)(x(_t),x(xt))};static \u0275cmp=f({type:n,selectors:[["app-confirm-dialog"]],decls:11,vars:7,consts:[["mat-dialog-content",""],["mat-dialog-title",""],[3,"color"],["mat-dialog-actions","","align","end"],["mat-button","",3,"click",4,"ngIf"],["mat-raised-button","",3,"click","color"],["mat-button","",3,"click"]],template:function(t,e){t&1&&(m(0,"div",0)(1,"h2",1)(2,"mat-icon",2),d(3),s(),d(4),s(),m(5,"p"),d(6),s()(),m(7,"div",3),j(8,xa,2,1,"button",4),m(9,"button",5),S("click",function(){return e.onConfirm()}),d(10),s()()),t&2&&(p(2),_("color",e.getIconColor()),p(),J(e.getIcon()),p(),ft(" ",e.data.title," "),p(2),J(e.data.message),p(2),_("ngIf",e.data.showCancel!==!1),p(),_("color",e.getButtonColor()),p(),ft(" ",e.data.confirmText," "))},dependencies:[ht,vt,Te,Ae,$e,He],styles:["h2[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin:0 0 16px}mat-icon[_ngcontent-%COMP%]{margin-right:8px}"]})};var Dt=class n{constructor(a){this.dialog=a}confirm(a="Confirmation",t="\xCAtes-vous s\xFBr ?",e="Confirmer",o="Annuler"){return this.dialog.open(et,{width:"400px",data:{title:a,message:t,confirmText:e,cancelText:o}}).afterClosed()}success(a,t="Succ\xE8s"){this.dialog.open(et,{width:"400px",data:{title:t,message:a,type:"success",confirmText:"OK",showCancel:!1}})}error(a,t="Erreur"){this.dialog.open(et,{width:"400px",data:{title:t,message:a,type:"error",confirmText:"OK",showCancel:!1}})}static \u0275fac=function(t){return new(t||n)(v(ge))};static \u0275prov=y({token:n,factory:n.\u0275fac,providedIn:"root"})};function wa(n,a){if(n&1&&(m(0,"option",26),d(1),s()),n&2){let t=a.$implicit;_("value",t.id),p(),Rt(" ",t.nom," (",t.email,") ")}}function Ca(n,a){if(n&1&&(m(0,"option",26),d(1),s()),n&2){let t=a.$implicit;_("value",t.id),p(),Rt(" ",t.nom," - ",t.type," ")}}function Ea(n,a){if(n&1){let t=bt();m(0,"button",40),S("click",function(){mt(t);let o=B().index,i=B();return dt(i.supprimerReservation(o))}),d(1," Supprimer cette r\xE9servation "),s()}}function Sa(n,a){if(n&1&&(m(0,"div",27)(1,"div",28),I(2,"input",29)(3,"input",30)(4,"input",31)(5,"input",32)(6,"input",33)(7,"input",19),s(),m(8,"div",34)(9,"select",35)(10,"option",6),d(11,"-- S\xE9lectionner une chambre --"),s(),j(12,Ca,2,3,"option",7),s(),I(13,"input",36)(14,"input",37),s(),m(15,"div",38),j(16,Ea,2,0,"button",39),s()()),n&2){let t=a.index,e=B();_("formGroupName",t),p(12),_("ngForOf",e.chambresDisponibles),p(4),_("ngIf",e.reservations.length>1)}}var Ve=class n{constructor(a,t,e,o,i,r){this.fb=a;this.chambreService=t;this.reservationGroupeeService=e;this.clientService=o;this.reservationService=i;this.dialogService=r}form;chambresDisponibles=[];societesExistantes=[];societeSelectionnee=null;ngOnInit(){this.form=this.fb.group({nomGroupe:["",b.required],dateDebut:["",b.required],dateFin:["",b.required],societe:this.fb.group({nom:["",b.required],telephone:["",b.required],email:["",[b.required,b.email]],adresse:[""],societe:[""],nationalite:[""],numeroPieceIdentite:[""],type:["societe"]}),reservations:this.fb.array([])}),this.ajouterReservation(),this.chargerChambres(),this.chargerSocietes()}get reservations(){return this.form.get("reservations")}creerReservationFormGroup(){return this.fb.group({clientId:[null],client:this.fb.group({nom:["",b.required],prenom:["",b.required],telephone:["",b.required],email:["",[b.required,b.email]],nationalite:["",b.required],numeroPieceIdentite:["",b.required]}),chambreId:["",b.required],dateDebut:["",b.required],dateFin:["",b.required],payeurExtras:["CLIENT"]})}ajouterReservation(){this.reservations.push(this.creerReservationFormGroup())}supprimerReservation(a){this.dialogService.confirm("Supprimer la r\xE9servation","\xCAtes-vous s\xFBr de vouloir supprimer cette r\xE9servation ?","Supprimer","Annuler").subscribe(t=>{t&&(this.reservations.removeAt(a),this.dialogService.success("R\xE9servation supprim\xE9e de la liste"))})}chargerChambres(){this.chambreService.getChambresLibres().subscribe({next:a=>{this.chambresDisponibles=a},error:a=>{this.dialogService.error("Erreur lors du chargement des chambres disponibles")}})}chargerSocietes(){this.clientService.getSocietes().subscribe({next:a=>{this.societesExistantes=a},error:a=>{this.dialogService.error("Erreur lors du chargement des soci\xE9t\xE9s")}})}onSocieteSelect(a){let e=a.target.value;if(!e){this.societeSelectionnee=null,this.form.get("societe")?.reset({nom:"",telephone:"",email:"",adresse:"",societe:"",nationalite:"",numeroPieceIdentite:"",type:"societe"});return}let o=parseInt(e,10),i=this.societesExistantes.find(r=>r.id===o);i&&(this.societeSelectionnee=i,this.form.get("societe")?.patchValue({nom:i.nom??"",telephone:i.telephone??"",email:i.email??"",adresse:i.adresse??"",societe:i.societe??"",nationalite:i.nationalite??"",numeroPieceIdentite:i.numeroPieceIdentite??"",type:i.type??"societe"}))}soumettre(){if(this.form.invalid){this.form.markAllAsTouched(),this.dialogService.error("Veuillez remplir tous les champs obligatoires avant de soumettre.","Formulaire incomplet");return}this.dialogService.confirm("Confirmer la cr\xE9ation","\xCAtes-vous s\xFBr de vouloir cr\xE9er cette r\xE9servation group\xE9e ?","Cr\xE9er","Annuler").subscribe(a=>{a&&this.creerReservationGroupee()})}creerReservationGroupee(){let a={nomGroupe:this.form.value.nomGroupe,dateDebut:this.form.value.dateDebut,dateFin:this.form.value.dateFin,societe:this.form.value.societe};this.reservationGroupeeService.creerReservationGroupee(a).pipe(Zt(t=>{let e=this.reservations.value.map(o=>({clientId:o.clientId||null,client:o.clientId?null:o.client,chambreId:+o.chambreId,dateDebut:o.dateDebut,dateFin:o.dateFin,notes:o.notes||null}));return this.reservationGroupeeService.addReservationsBulk(t.id,{reservations:e})})).subscribe({next:()=>{this.dialogService.success("La r\xE9servation group\xE9e a \xE9t\xE9 enregistr\xE9e avec succ\xE8s \u2705","Succ\xE8s"),this.resetForm()},error:t=>{let e=t.error?.message||"\xC9chec lors de l'enregistrement des r\xE9servations \u274C";this.dialogService.error(e,"Erreur")}})}resetForm(){this.form.reset(),this.reservations.clear(),this.ajouterReservation(),this.societeSelectionnee=null}validateDates(){let a=this.form.get("dateDebut")?.value,t=this.form.get("dateFin")?.value;return a&&t&&new Date(t)<=new Date(a)?(this.dialogService.error("La date de fin doit \xEAtre post\xE9rieure \xE0 la date de d\xE9but","Dates invalides"),!1):!0}verifierDisponibilite(){this.validateDates()&&this.soumettre()}static \u0275fac=function(t){return new(t||n)(x(ue),x(xe),x(wt),x(ye),x(_e),x(Dt))};static \u0275cmp=f({type:n,selectors:[["app-reservation-groupee"]],decls:41,vars:4,consts:[[1,"p-6","bg-white","rounded","shadow","max-w-6xl","mx-auto"],[1,"text-2xl","font-bold","mb-6","text-blue-700"],[3,"ngSubmit","formGroup"],[1,"mb-6"],[1,"block","mb-2","font-medium"],[1,"border","p-2","rounded","w-full",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","mb-6"],[1,"block","mb-1","font-medium"],["type","text","formControlName","nomGroupe",1,"w-full","border","p-2","rounded"],["type","date","formControlName","dateDebut",1,"w-full","border","p-2","rounded"],["type","date","formControlName","dateFin",1,"w-full","border","p-2","rounded"],["formGroupName","societe",1,"grid","grid-cols-1","md:grid-cols-2","gap-4","mb-6"],["type","text","formControlName","nom","placeholder","Nom soci\xE9t\xE9",1,"border","p-2","rounded"],["type","text","formControlName","telephone","placeholder","T\xE9l\xE9phone",1,"border","p-2","rounded"],["type","email","formControlName","email","placeholder","Email",1,"border","p-2","rounded"],["type","text","formControlName","adresse","placeholder","Adresse",1,"border","p-2","rounded"],["type","text","formControlName","nationalite","placeholder","Nationalit\xE9",1,"border","p-2","rounded"],["type","text","formControlName","numeroPieceIdentite","placeholder","N\xB0 pi\xE8ce d'identit\xE9",1,"border","p-2","rounded"],["formArrayName","reservations"],[1,"text-lg","font-semibold","text-gray-700","mb-4"],["class","border p-4 rounded mb-6 bg-gray-50",3,"formGroupName",4,"ngFor","ngForOf"],["type","button",1,"bg-blue-600","text-white","px-4","py-2","rounded",3,"click"],[1,"text-center"],["type","submit",1,"bg-green-600","text-white","px-6","py-2","rounded","font-semibold",3,"disabled"],[3,"value"],[1,"border","p-4","rounded","mb-6","bg-gray-50",3,"formGroupName"],["formGroupName","client",1,"grid","grid-cols-1","md:grid-cols-2","gap-4","mb-4"],["type","text","formControlName","nom","placeholder","Nom client",1,"border","p-2","rounded"],["type","text","formControlName","prenom","placeholder","Pr\xE9nom client",1,"border","p-2","rounded"],["type","text","formControlName","telephone","placeholder","T\xE9l\xE9phone client",1,"border","p-2","rounded"],["type","email","formControlName","email","placeholder","Email client",1,"border","p-2","rounded"],["type","text","formControlName","nationalite","placeholder","Nationalit\xE9 client",1,"border","p-2","rounded"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","mb-4"],["formControlName","chambreId",1,"border","p-2","rounded"],["type","date","formControlName","dateDebut",1,"border","p-2","rounded"],["type","date","formControlName","dateFin",1,"border","p-2","rounded"],[1,"text-right"],["type","button","class","text-red-600 hover:underline",3,"click",4,"ngIf"],["type","button",1,"text-red-600","hover:underline",3,"click"]],template:function(t,e){t&1&&(m(0,"div",0)(1,"h2",1),d(2,"Nouvelle R\xE9servation Group\xE9e"),s(),m(3,"form",2),S("ngSubmit",function(){return e.soumettre()}),m(4,"div",3)(5,"label",4),d(6,"S\xE9lectionner une soci\xE9t\xE9 existante"),s(),m(7,"select",5),S("change",function(i){return e.onSocieteSelect(i)}),m(8,"option",6),d(9,"-- Nouvelle soci\xE9t\xE9 --"),s(),j(10,wa,2,3,"option",7),s()(),m(11,"div",8)(12,"div")(13,"label",9),d(14,"Nom du Groupe"),s(),I(15,"input",10),s(),m(16,"div")(17,"label",9),d(18,"Date D\xE9but"),s(),I(19,"input",11),s(),m(20,"div")(21,"label",9),d(22,"Date Fin"),s(),I(23,"input",12),s()(),m(24,"div",13),I(25,"input",14)(26,"input",15)(27,"input",16)(28,"input",17)(29,"input",18)(30,"input",19),s(),m(31,"div",20)(32,"h3",21),d(33,"D\xE9tails des R\xE9servations"),s(),j(34,Sa,17,3,"div",22),m(35,"div",3)(36,"button",23),S("click",function(){return e.ajouterReservation()}),d(37," + Ajouter une r\xE9servation "),s()()(),m(38,"div",24)(39,"button",25),d(40," Enregistrer la r\xE9servation group\xE9e "),s()()()()),t&2&&(p(3),_("formGroup",e.form),p(7),_("ngForOf",e.societesExistantes),p(24),_("ngForOf",e.reservations.controls),p(5),_("disabled",e.form.invalid))},dependencies:[ht,Jt,vt,be,ne,de,le,ee,me,ae,oe,ie,ce,re,se,Qt,pe],encapsulation:2})};var Ye=class n{constructor(a){this.http=a}apiUrl=T+"consommations";getByFicheSejourId(a){return console.log("\u{1F310} Service - R\xE9cup\xE9ration consommations pour fiche:",a),this.http.get(`${this.apiUrl}/fiche/${a}`).pipe(M(t=>console.log("\u{1F310} Service - Consommations re\xE7ues:",t)),z(t=>(console.error("\u{1F310} Service - Erreur r\xE9cup\xE9ration consommations:",t),O(t))))}ajouter(a){return console.log("\u{1F310} Service - DTO envoy\xE9:",a),console.log("\u{1F310} Service - URL compl\xE8te:",`${this.apiUrl}/ajouter`),this.http.post(`${this.apiUrl}/ajouter`,a).pipe(M(t=>console.log("\u{1F310} Service - R\xE9ponse cr\xE9ation:",t)),z(t=>(console.error("\u{1F310} Service - Erreur cr\xE9ation:",t),console.error("\u{1F310} Service - D\xE9tails erreur:",t.error),O(t))))}supprimer(a){return console.log("\u{1F310} Service - Suppression consommation:",a),this.http.delete(`${this.apiUrl}/${a}`).pipe(M(()=>console.log("\u{1F310} Service - Consommation supprim\xE9e:",a)),z(t=>(console.error("\u{1F310} Service - Erreur suppression:",t),O(t))))}modifier(a,t){return console.log("\u{1F310} Service - Modification consommation:",a,t),this.http.put(`${this.apiUrl}/${a}`,t).pipe(M(e=>console.log("\u{1F310} Service - R\xE9ponse modification:",e)),z(e=>(console.error("\u{1F310} Service - Erreur modification:",e),O(e))))}static \u0275fac=function(t){return new(t||n)(v(D))};static \u0275prov=y({token:n,factory:n.\u0275fac,providedIn:"root"})};var qe=class n{constructor(a){this.http=a}apiUrl=T+"articles";getAll(){return this.http.get(this.apiUrl)}delete(a){return this.http.delete(`${this.apiUrl}/${a}`)}create(a){return this.http.post(this.apiUrl,a)}update(a){return this.http.put(`${this.apiUrl}/${a.id}`,a)}static \u0275fac=function(t){return new(t||n)(v(D))};static \u0275prov=y({token:n,factory:n.\u0275fac,providedIn:"root"})};export{Ie as a,no as b,xo as c,Ue as d,fa as e,Ge as f,He as g,$e as h,et as i,Ee as j,Ye as k,wt as l,Ve as m,qe as n};
