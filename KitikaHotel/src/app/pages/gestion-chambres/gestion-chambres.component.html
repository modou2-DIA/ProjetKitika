<div class="min-h-screen bg-gray-50 px-4 py-6">
  <!-- Bouton retour -->


  <!-- Titre -->
  <h2 class="text-3xl font-bold text-blue-800 mb-8">Gestion des Chambres</h2>

  <!-- Barre de recherche et filtres -->
  <div class="flex flex-wrap gap-4 items-center mb-8">
    <input
      type="text"
      [(ngModel)]="searchTerm"
      (input)="filtrerChambres()"
      placeholder="üîç Rechercher par num√©ro ou type"
      class="border px-4 py-2 rounded-lg w-full md:w-1/3 shadow-sm focus:outline-none focus:ring focus:ring-blue-300"
    />

    <select
      [(ngModel)]="filtreType"
      (change)="filtrerChambres()"
      class="border px-4 py-2 rounded-lg w-full md:w-1/4 shadow-sm focus:outline-none focus:ring focus:ring-blue-300"
    >
      <option value="">Tous les types</option>
      <option value="Excecutive">Excecutive</option>
      <option value="Standard">Standard</option>
      <option value="Suite">Suite</option>
    </select>

    <button
      (click)="openModalAjout()"
      class="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition shadow"
    >
      <i class="fas fa-plus mr-2"></i> Ajouter une Chambre
    </button>
  </div>

  <!-- Tableau des chambres -->
  <div class="overflow-x-auto bg-white rounded-lg shadow">
    <table class="min-w-full divide-y divide-gray-200">
      <thead class="bg-blue-50 text-blue-800">
        <tr>
          <th class="px-6 py-3 text-left text-sm font-semibold">Num√©ro</th>
          <th class="px-6 py-3 text-left text-sm font-semibold">Type</th>
          <th class="px-6 py-3 text-left text-sm font-semibold">Prix/Nuit</th>
          <th class="px-6 py-3 text-left text-sm font-semibold">Statut</th>
          <th class="px-6 py-3 text-left text-sm font-semibold">Hors Service</th>
          <th class="px-6 py-3 text-left text-sm font-semibold">Actions</th>
        </tr>
      </thead>
      <tbody class="divide-y divide-gray-100">
        <tr *ngFor="let chambre of chambresFiltrees" class="hover:bg-gray-50 transition">
          <td class="px-6 py-4">{{ chambre.numero }}</td>
          <td class="px-6 py-4">{{ chambre.type }}</td>
          <td class="px-6 py-4">{{ chambre.prixParNuit }} $</td>
          <td class="px-6 py-4">{{ chambre.statut }}</td>
          <td class="px-6 py-4">
            <span [ngClass]="chambre.horsService ? 'text-red-600' : 'text-green-600'">
              {{ chambre.horsService ? 'Oui' : 'Non' }}
            </span>
          </td>
          <td class="px-6 py-4">
            <button
              (click)="openModalEdition(chambre)"
              class="text-indigo-600 hover:underline font-medium"
            >
              Modifier
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Modal Chambre -->
  <ng-template #modalChambre>
    <div class="p-6">
      <h3 class="text-xl font-semibold text-gray-800 mb-4">
        {{ isEditing ? 'Modifier une Chambre' : 'Ajouter une Chambre' }}
      </h3>

      <form [formGroup]="chambreForm" (ngSubmit)="soumettreChambre()" class="space-y-5">
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">Num√©ro</label>
          <input
            formControlName="numero"
            type="text"
            placeholder="Ex : 101"
            class="w-full border px-4 py-2 rounded-lg focus:outline-none focus:ring focus:ring-blue-300"
          />
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">Type</label>
          <select
            formControlName="type"
            class="w-full border px-4 py-2 rounded-lg focus:outline-none focus:ring focus:ring-blue-300"
          >
            <option value="">-- S√©lectionner un type --</option>
            <option value="Simple">Simple</option>
            <option value="Double">Double</option>
            <option value="Suite">Suite</option>
          </select>
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">Prix par nuit (DT)</label>
          <input
            type="number"
            formControlName="prixParNuit"
            placeholder="Ex : 150"
            class="w-full border px-4 py-2 rounded-lg focus:outline-none focus:ring focus:ring-blue-300"
          />
        </div>

        <div class="flex items-center">
          <input type="checkbox" formControlName="horsService" class="mr-2" />
          <label class="text-sm text-gray-700">Chambre hors service</label>
        </div>

        <div class="pt-4 border-t flex justify-end gap-3">
          <button
            type="button"
            (click)="annuler()"
            class="px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300"
          >
            Annuler
          </button>
          <button
            type="submit"
            class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700"
          >
            Enregistrer
          </button>
        </div>
      </form>
    </div>
  </ng-template>
</div>
